# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API —Å–æ–∑–¥–∞–Ω–∏—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π

## –ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞–ø—Ä–æ—Å–∞

–ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π, API `/api/organizations` —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –≤ –±—ç–∫–µ–Ω–¥ Aiguro:

```json
{
  "gid": "org_2abc123def456ghi789",
  "display_name": "–ù–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏",
  "is_active": true
}
```

## –ü–æ–ª—è –∑–∞–ø—Ä–æ—Å–∞

- **gid** (string) - Clerk Organization ID, —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∏–∑ Clerk
- **display_name** (string) - –û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
- **is_active** (boolean) - –°—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ (–≤—Å–µ–≥–¥–∞ true –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–µ–∑ OrganizationCreationProvider

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—É—é –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ Clerk UI, —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:

1. –î–µ—Ç–µ–∫—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏
2. –í—ã–∑—ã–≤–∞–µ—Ç `/api/organizations` —Å –¥–∞–Ω–Ω—ã–º–∏:
   ```json
   {
     "organizationName": "–ú–æ—è –Ω–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è",
     "clerkOrgId": "org_2abc123def456ghi789"
   }
   ```

3. API –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä—É –¥–ª—è –±—ç–∫–µ–Ω–¥–∞:
   ```json
   {
     "gid": "org_2abc123def456ghi789",
     "display_name": "–ú–æ—è –Ω–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è", 
     "is_active": true
   }
   ```

4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `https://app.dev.aiguro.ru/api/organization`

5. –ü–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç —Å ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ –±—ç–∫–µ–Ω–¥–µ

6. –û–±–Ω–æ–≤–ª—è–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ Clerk –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ —Å –ø–æ–ª—É—á–µ–Ω–Ω—ã–º ID

### 2. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ curl

```bash
curl -X POST http://localhost:3002/api/organizations \
  -H "Content-Type: application/json" \
  -H "Cookie: __session=YOUR_CLERK_SESSION_TOKEN" \
  -d '{
    "organizationName": "–¢–µ—Å—Ç–æ–≤–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è",
    "clerkOrgId": "org_test123456789"
  }'
```

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

API –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

```
üöÄ Attempting to create organization in Aiguro backend...
üì§ Request data: {
  url: 'https://app.dev.aiguro.ru/api/organization',
  method: 'POST',
  body: {
    gid: 'org_2abc123def456ghi789',
    display_name: '–ú–æ—è –Ω–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è',
    is_active: true
  },
  clerkOrgId: 'org_2abc123def456ghi789',
  userId: 'user_123',
  hasToken: true
}
üì• Backend response status: 201
‚úÖ Backend response data: { id: 42, display_name: "–ú–æ—è –Ω–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è", is_active: true }
üéØ Extracted backend organization ID: 42
```

## –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç –æ—Ç –±—ç–∫–µ–Ω–¥–∞

–ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```json
{
  "id": 42,
  "gid": "org_2abc123def456ghi789",
  "display_name": "–ú–æ—è –Ω–æ–≤–∞—è –∫–æ–º–ø–∞–Ω–∏—è",
  "is_active": true
}
```

–ì–¥–µ `id` - —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π ID –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ Aiguro, –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö Clerk –∫–∞–∫ `id_backend`. 